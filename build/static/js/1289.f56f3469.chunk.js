"use strict";(self.webpackChunkmedicos_pdf=self.webpackChunkmedicos_pdf||[]).push([[1289,386],{73465:function(e,n,t){t(72791);var r=t(80184);n.Z=function(e){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:e.className,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}},20386:function(e,n,t){t.r(n),t.d(n,{default:function(){return c}});t(72791);var r=t(80184),c=function(){return(0,r.jsx)("div",{className:"loading-wrapper",children:(0,r.jsxs)("div",{className:"lds-ellipsis",children:[(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{})]})})}},91289:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var r=t(1413),c=t(15861),o=t(42982),a=t(70885),s=t(64687),i=t.n(s),u=t(72791),l=t(79271),f=t(30577),d=t(20386),h=t(39985),p=t(37222),v=t.n(p),g=t(36251),m=t(65414),x=t(73465),j=t(80184),Z=v()({loader:function(){return t.e(5732).then(t.bind(t,15732))},loading:function(){return(0,j.jsx)("div",{className:"loading",children:"Loading..."})}}),b=function(){var e=(0,u.useRef)(),n=(0,u.useRef)(),s=(0,l.k6)(),p=(0,u.useContext)(m.V),v=p.user,b=p.username,k=(0,l.TH)(),S=(0,u.useState)(""),w=(0,a.Z)(S,2),N=w[0],O=w[1],y=(0,u.useState)(!1),E=(0,a.Z)(y,2),D=E[0],P=E[1],I=(0,h.Z)(N),C=I.slideDocId,T=I.bookDocId,R=I.profileDocId,L=(0,u.useState)([]),B=(0,a.Z)(L,2),_=B[0],A=B[1],H=(0,u.useState)(!1),V=(0,a.Z)(H,2),W=V[0],G=V[1],K=(0,u.useState)(!1),M=(0,a.Z)(K,2),z=M[0],U=M[1],F=(0,u.useState)([0]),X=(0,a.Z)(F,2),q=X[0],J=X[1],Q=(0,u.useState)(null),Y=(0,a.Z)(Q,2),$=Y[0],ee=Y[1];function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;""!==N?((0,g.X)("search_entered",{searchText:e||N}),U(!1),G(!1),s.push({pathname:"/search/searchtext/".concat(e||N)})):f.Am.error("Please enter some text",{theme:"dark",hideProgressBar:!0})}(0,u.useEffect)((function(){var e=!0,t=function(e){W&&n.current&&!n.current.contains(e.target)?(O(""),U(!1),G(!1)):n.current&&!n.current.contains(e.target)&&U(!1)};return e&&document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t),e=!1}}),[W]),(0,u.useEffect)((function(){var e=!0;return e&&O(k.search.replace(/\?/g,"")),function(){e=!1}}),[k.search]),(0,u.useEffect)((function(){var e=!0;return e&&A([].concat((0,o.Z)(C),(0,o.Z)(T),(0,o.Z)(R))),function(){e=!1}}),[C,T,R]),(0,u.useEffect)((function(){var e=!0;if(e){J((function(){return function(e){var n,t;if(""!==e&&(null===(n=e)||void 0===n?void 0:n.length)<3){var r=[];return $&&(r=[].concat((0,o.Z)(r),(0,o.Z)($)),e=[].concat((0,o.Z)(e),(0,o.Z)($))),r.length?r:[e]}if(e&&""!==e&&(null===(t=e)||void 0===t?void 0:t.length)>=3){var c=_.filter((function(n){return n.toLowerCase().replace(/\s/g,"").includes(e.toLowerCase().replace(/\s/g,""))}));return $&&(c=[].concat((0,o.Z)(c),(0,o.Z)($)),e=[].concat((0,o.Z)(e),(0,o.Z)($))),c.length?c:[e]}return G(!1),[]}(N)}))}return function(){e=!1}}),[_,N,$]);return(0,u.useEffect)((0,c.Z)(i().mark((function e(){var n,r,c,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!0&&v&&b)){e.next=17;break}return e.prev=2,e.next=5,Promise.all([t.e(9565).then(t.bind(t,19565))]).then((function(e){return{firestore:(0,a.Z)(e,1)[0]}}));case 5:n=e.sent,r=n.firestore,c=r.db,o=r.collection,s=r.onSnapshot,u=o(c,"Web-User-Data",b,"Search-History"),s(u,(function(e){if(e){var n=[];if(e.forEach((function(e){n.push(e.data())})),n){var t=[];n.forEach((function(e){t.push(e.searchedText)})),t&&ee(t)}}})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("error fetching search history",e.t0);case 17:return e.abrupt("return",(function(){!1}));case 18:case"end":return e.stop()}}),e,null,[[2,14]])}))),[b,v]),(0,j.jsx)("div",{className:"topNavBarSearchContainer",children:(0,j.jsxs)("div",{ref:n,className:"topNavBarSearch ".concat(z?"topNavBarFullSearch":""),children:[(0,j.jsx)(x.Z,{className:"topNavBarSearch-icon"}),(0,j.jsx)(Z,{onChange:function(e){return console.log(e)},onOuterClick:function(){return U(!1)},onInputValueChange:function(e){O(e),(null===_||void 0===_?void 0:_.length)>0&&""!==e&&(P(!1),U(!0),G(!0))},itemToString:function(e){return e||""},children:function(n){var t=n.getInputProps,c=n.getItemProps,o=n.getMenuProps,a=n.highlightedIndex,s=n.getRootProps;return(0,j.jsxs)("div",{className:"navsearch",children:[(0,j.jsx)("div",(0,r.Z)((0,r.Z)({className:"search-input-wrapper"},s({},{suppressRefError:!0})),{},{children:(0,j.jsx)("input",(0,r.Z)((0,r.Z)({ref:e,onFocus:function(){return U(!0)},placeholder:"Search medical books , slides ,articles , notes , journals ...",type:"search"},t({onKeyDown:function(e){"Enter"===e.key&&ne()}})),{},{value:N}))})),D||W?(0,j.jsx)("div",{className:"menu-container",children:D?(0,j.jsxs)("div",{className:"italic-text",children:[(0,j.jsxs)("i",{children:["Searching....  ","'".concat(N,"'")]}),(0,j.jsx)(d.default,{})]}):(0,j.jsxs)("ul",(0,r.Z)((0,r.Z)({className:"listing"},o()),{},{children:[(0,j.jsxs)("li",{onClick:function(){ne(N)},children:[(0,j.jsx)(x.Z,{className:"topNavBarSearch-icon list-icon"})," ",(0,j.jsx)("span",{children:N})]}),W?q.map((function(e,n){return(0,j.jsx)("li",(0,r.Z)((0,r.Z)({},c({key:e+n,index:n,item:e,style:{backgroundColor:a===n?"#12D288":"white",paddingTop:8,paddingBottom:8,paddingLeft:5,display:"flex",justifyContent:"space-between",alignItems:"center"}})),{},{children:(0,j.jsx)("span",{onClick:function(){ne(e)},children:null===e||void 0===e?void 0:e.split("-",1)[0]})}))})):null]}))}):null]})}})]})})}},39985:function(e,n,t){var r=t(70885),c=t(72791),o=t(23726);n.Z=function(e){var n=(0,c.useState)([]),t=(0,r.Z)(n,2),a=t[0],s=t[1],i=(0,c.useState)([]),u=(0,r.Z)(i,2),l=u[0],f=u[1],d=(0,c.useState)([]),h=(0,r.Z)(d,2),p=h[0],v=h[1],g=(0,c.useState)([]),m=(0,r.Z)(g,2),x=m[0];return m[1],(0,c.useEffect)((function(){null!==e&&void 0!==e&&e.length&&((0,o.Nk)("AllSlidesDataLockDownVersions").then((function(e){s(e)})),(0,o.Nk)("K-Books").then((function(e){f(e)})),(0,o.Nk)("Web-SearchByTag").then((function(e){v(e)})))}),[e]),{slideDocId:a,bookDocId:l,profileDocId:x,searchTagDocId:p}}},36251:function(e,n,t){t.d(n,{T:function(){return c},X:function(){return o}});var r=t(2191),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"some_event_name";try{(0,r.Kz)((0,r.IH)(),e)}catch(n){console.log("EVENT WITHOUT PARAMS ERROR LOGGED: ".concat(e,", ").concat(n))}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"some_event_name",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{(0,r.Kz)((0,r.IH)(),e,n)}catch(t){console.log("EVENT WITHOUT PARAMS ERROR LOGGED: ".concat(e,", ").concat(t," ,").concat(n))}}},1413:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(4942);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}}}]);
//# sourceMappingURL=1289.f56f3469.chunk.js.map