{"version":3,"file":"static/js/5254.7c95b3a1.chunk.js","mappings":"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","sources":["components/global/icons/exclamanation_Triangle.js","pages/UserDetail/index.js","../node_modules/debounce/index.js"],"sourcesContent":["import React from 'react'\n\nconst ExclamanationTriangle = (props) => {\n  return <svg xmlns=\"http://www.w3.org/2000/svg\" className={props.className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n</svg>\n}\n\nexport default ExclamanationTriangle","import React, { useContext, useState, useEffect, useCallback, useRef } from 'react';\nimport { debounce } from \"debounce\";\n// import { BiError } from \"react-icons/bi\";\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { DisplayTitle } from \"../../components/global/Titles\";\nimport './index.scss'\nimport { Button } from '../../../src/components/global/button';\nimport { preferencesCategories } from \"../../constants/Preference/PreferencesCategories\";\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../../components/signUp/authMethods/authentication\";\nimport useLocalStorage from \"../../customHooks/useLocalStorage\";\n\nimport Loadable from 'react-loadable';\n// import { doc, getDoc, getFirestore, onSnapshot, setDoc } from \"firebase/firestore\";\nimport ExclamanationTriangle from '../../components/global/icons/exclamanation_Triangle';\n\n\nconst LoadableLoginModal = Loadable({\n    loader: () => import('../../components/global/loginModel').then(module => module.LoginModal),\n    loading() {\n        return <div className='loading'>Loading...</div>\n    }\n});\n\nlet faculties = [];\nconst CategoryOption = ({ name, faculty, image, fadedImage, selected, selectedFaculty }) => {\n    const [imageSize, setImageSize] = useState(150);\n    const animation = () => {\n\n        setImageSize(45)\n    }\n\n    function updateCategories() {\n        faculties = [];\n        faculties.push(faculty);\n        selectedFaculty(faculty)\n        animation()\n    }\n\n    return (\n        <div className=\"preference-category-container\">\n            <div onClick={() => {\n                updateCategories(faculty)\n            }}>\n                <img loading=\"lazy\" className=\"category-image\" style={\n                    {\n                        borderRadius: 4,\n                        boxShadow: selected ? \"0 15px 35px rgba(0, -20, 1, 0.15)\" : \"\",\n                    }\n                }\n                    src={selected ? image : fadedImage}\n                    alt={name}\n                />\n            </div>\n            <h4 className=\"category-title\">{name}</h4>\n        </div>\n    )\n}\n\n\nconst UserDetail = () => {\n    const history = useHistory();\n    const usernameinputRef = useRef()\n    const { user, username: u_name, setUsername: setAuthUsername } = useContext(AuthContext);\n    const [username, setUsername] = useState(u_name);\n    const [preference, setPreference] = useLocalStorage('preference', null);\n    const [submitMessage, setSubmitMessage] = useState(null);\n    const [faculty, setFaculty] = useState(null);\n    const [usernameError, setUsernameError] = useState();\n    const [preferenceError, setPreferenceError] = useState();\n    const [showFormModel, setShowFormModel] = useState(false)\n    // const db = getFirestore();\n    const  getFirebaseAll=()=>{\n        return Promise.all([\n            import('../../firebase/firestore')\n        ])\n        .then(([firestore])=>{\n            return{firestore}\n        })\n    }\n    const selectedFaculty = (selectedFaculty) => {\n        setPreferenceError()\n        setFaculty(selectedFaculty);\n        setSubmitMessage(null)\n    }\n\n    const FormModel = useCallback(\n        (dontShow) => {\n\n            if (dontShow === false) {\n                setShowFormModel(false)\n                history.goBack()\n            }\n        },\n        [history],\n    )\n\n    useEffect(() => {\n        let isMounted = true;\n\n        if (isMounted) {\n            if (user) {\n                setShowFormModel(false)\n                // setLoggedInState(true)\n            }\n            else {\n                // setLoggedInState(false)\n                setShowFormModel(true)\n            }\n\n        }\n\n        return () => {\n            isMounted = false\n        }\n    }, [user])\n    async function submitPreference() {\n\n        try { const{firestore:{db,doc,getDoc,setDoc}}=await getFirebaseAll()\n            //if there is usernam ein inout value then check if it already exists [Username always has to be unique]\n            //checking to resolve any sideeffect while \n            if ((usernameinputRef?.current?.value?.length && usernameinputRef?.current?.value == username) || (!usernameinputRef?.current?.value?.length)) {\n                const docRef = doc(db, 'Web-User-Data', username, 'Additional-Details', username)\n\n                getDoc(docRef).then((querySnapshot) => {\n\n                    if (querySnapshot?.exists() && usernameinputRef?.current?.value?.length) {\n                        toast.error(\"Username already exists\", { theme: 'dark', hideProgressBar: true });\n                    } else {\n                        if (faculty && (username) && !usernameError) {\n                            setDoc(doc(db, \"Web-User-Data\", username, 'User-Preference', username),\n                                {\n                                    user_id: user?.uid,\n                                    user_email: user?.email,\n                                    preference: faculty,\n                                })\n\n                                .then(() => {\n\n                                    setDoc(doc(db, \"Web-User-Data\", username, 'Additional-Details', username),\n                                        {\n                                            user_id: user?.uid,\n                                            email: user?.email,\n                                            displayName: user?.displayName,\n                                            photoURL: user?.photoURL,\n                                            language: '',\n                                            gender: '',\n                                            nickname: '',\n                                            joinedDate: '',\n                                            working: '',\n                                            education: '',\n                                            summary: '',\n                                            facebook: '',\n                                            instagram: '',\n                                            twitter: '',\n                                            username: username,\n                                            coverImageUrl: '',\n                                        })\n\n                                        .then(() => {\n                                            setDoc(doc(db, \"Web-Uid-To-Username\", user?.uid),\n                                                {\n                                                    username: username\n                                                }\n                                            )\n\n                                                .then(() => {\n                                                    setPreference(faculty)\n                                                    setAuthUsername(username)\n\n                                                    toast.success(\"Account successfully added\", { theme: 'dark', hideProgressBar: true });\n                                                    history.push('/')\n                                                })\n                                        })\n                                        .catch((err) => {\n                                            console.log(err)\n\n                                        })\n                                })\n                        } else {\n\n                            setSubmitMessage(\"Please select your preference *\")\n                            setTimeout(() => { setSubmitMessage(null) }, 1000);\n                        }\n                    }\n                })\n            }\n\n            if (!username) {\n                setUsernameError('Please enter your username')\n            }\n            if (!faculty) {\n                setPreferenceError('Please select your preference')\n            }\n        } catch (err) {\n            console.log(\"Error submitting user preference\", err)\n        }\n    }\n\n    const addUsername = async(e) => {\n        setUsernameError(null);\n        e.preventDefault()\n        try {\n            const {firestore:{db,doc,getDoc}}=await getFirebaseAll()\n            const docRef = doc(db, 'Web-User-Data', e.target.value, 'Additional-Details', e.target.value)\n            // firebase.firestore().collection('Web-User-Data')\n            //     .doc(e.target.value)\n            //     .collection('Additional-Details')\n            //     .doc(e.target.value)\n            getDoc(docRef).then((querySnapshot) => {\n\n                if (querySnapshot?.exists()) {\n                    setUsernameError('Username already existed')\n                }\n            })\n        } catch (error) {\n            console.log('input error', error);\n        }\n        setUsername(e.target.value)\n    }\n\n    const ErrorMsg = ({ errorMsg }) => {\n        return <div className='error-msg-container'>\n            <ExclamanationTriangle className='icon' />\n            <p className='error-msg'>{errorMsg}</p>\n        </div>\n    }\n    const debounceAddUsername = debounce(addUsername, 2000)\n\n    useEffect(async() => {\n        let isMounted = true\n        if (isMounted && user?.uid && !u_name) {\n            try {\n                const {firestore:{db,doc,onSnapshot,setDoc}}=await getFirebaseAll()\n                let docId = user?.email.replace(/@gmail.com/g, '');\n                // let docId = 'vivekneupane11'\n                const docRef = doc(db, 'Web-User-Data', docId, 'Additional-Details', docId)\n                // firebase.firestore().collection('Web-User-Data')\n                //     .doc(docId)\n                onSnapshot(docRef, (querySnapshot) => {\n                    if (!querySnapshot?.exists()) {\n                        // console.log('Email',docId);\n                        setDoc(doc(db, \"Web-Uid-To-Username\", user?.uid),\n                            {\n                                username: docId\n                            }\n                        ).then(()=>{\n                            setUsername(docId)\n                            setAuthUsername(docId)\n                        })\n                    }\n                })\n            } catch (error) {\n                console.log('input error', error);\n            }\n        }\n        return () => {\n            isMounted = false;\n        }\n    }, [user?.uid,  user?.email])\n\n    //     useEffect(() => {\n    //         let isMounted = true\n    //         if (isMounted && user?.uid) {\n    //             try {\n    //                 const docRef = doc(db,'Web-Uid-To-Username',user?.uid)\n    //                 // firebase.firestore().collection('Web-Uid-To-Username')\n    //                 //     .doc(user?.uid)\n    //                     onSnapshot(docRef,(querySnapshot) => {\n    //                         const docRef =doc(db,\"Web-User-Data\",querySnapshot?.data()?.username,'User-Preference',querySnapshot?.data()?.username)\n    //                         // firebase.firestore().collection(\"Web-User-Data\")\n    //                         //     .doc(querySnapshot?.data()?.username)\n    //                         //     .collection('User-Preference')\n    //                         //     .doc(querySnapshot?.data()?.username)\n    //                             onSnapshot(docRef,(res) => {\n    // if(res?.exists()){\n    //   if(res?.data()?.preference)  setFaculty()\n\n    // }\n    //                             })\n    //                     })\n    //             } catch (error) {\n    //                 console.log('input error', error);\n    //             }\n    //         }\n    //         return () => {\n    //             isMounted = false;\n    //         }\n    //     }, [user?.uid,db])\n\n    return <div className='user-detail-page-container'>\n        {\n            showFormModel &&\n            <LoadableLoginModal show={showFormModel} formModel={FormModel} />\n        }\n        {\n\n            <div className='username-container'>\n                <DisplayTitle title=\"Almost there !\" type=\"display3\" />\n                <p>Finish creating your account for the full experience.</p>\n                <div className='input-container'>\n                    <div className=\"username\">\n                        <p className='label'>Your username</p>\n                        {!u_name && !username && <input ref={usernameinputRef} type=\"text\" onChange={debounceAddUsername} />\n                        }\n                        {u_name && username && <p className='text-focus'>{u_name}</p>\n                        }\n                        {usernameError &&\n                            <ErrorMsg errorMsg={usernameError} />\n                        }\n                    </div>\n                    <p className='label'>Your email</p>\n                    <p className='text-focus'>{user?.email}</p>\n                </div>\n                {preferenceError &&\n                    <ErrorMsg errorMsg={preferenceError} />\n                }\n            </div>\n        }\n        <div className='preference-heading'>\n            <DisplayTitle title='Please select your preference' type='display3' />\n        </div>\n        <div className=\"preference-category\">\n            {preferencesCategories.map((item, index) => {\n\n                return (\n                    <div key={item.faculty + index}>\n                        {\n                            item?.faculty === faculty?.faculty ?\n                                <CategoryOption\n                                    faculty={item}\n                                    name={item?.faculty}\n                                    image={item?.image}\n                                    fadedImage={item?.fadedImage}\n                                    selected={true}\n                                    selectedFaculty={selectedFaculty}\n                                />\n                                :\n                                <CategoryOption\n                                    faculty={item}\n                                    name={item.faculty}\n                                    image={item.image}\n                                    fadedImage={item.fadedImage}\n                                    selected={false}\n                                    selectedFaculty={selectedFaculty}\n                                />\n                        }\n                    </div>\n                )\n            })}\n        </div>\n        <div className=\"preference-create-button-container\" onClick={submitPreference}>\n            <Button type=\"primary-rounded\" label=\"Create Account\" labelColor=\"white\" />\n        </div>\n    </div>\n\n}\n\n\nexport default UserDetail;","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n"],"names":["props","_jsx","xmlns","className","fill","viewBox","stroke","children","strokeLinecap","strokeLinejoin","strokeWidth","d","LoadableLoginModal","Loadable","loader","then","module","LoginModal","loading","CategoryOption","_ref","name","faculty","image","fadedImage","selected","selectedFaculty","_useState","useState","_useState2","_slicedToArray","setImageSize","updateCategories","push","_jsxs","onClick","style","borderRadius","boxShadow","src","alt","history","useHistory","usernameinputRef","useRef","_useContext","useContext","AuthContext","user","u_name","username","setAuthUsername","setUsername","_useState3","_useState4","_useLocalStorage","useLocalStorage","_useLocalStorage2","setPreference","_useState5","_useState6","setSubmitMessage","_useState7","_useState8","setFaculty","_useState9","_useState10","usernameError","setUsernameError","_useState11","_useState12","preferenceError","setPreferenceError","_useState13","_useState14","showFormModel","setShowFormModel","getFirebaseAll","Promise","all","_ref2","firestore","FormModel","useCallback","dontShow","goBack","_submitPreference","_asyncToGenerator","_regeneratorRuntime","_callee3","_usernameinputRef$cur","_usernameinputRef$cur2","_usernameinputRef$cur3","_usernameinputRef$cur4","_usernameinputRef$cur5","_yield$getFirebaseAll5","_yield$getFirebaseAll6","db","doc","getDoc","setDoc","docRef","_context3","prev","next","sent","current","value","length","querySnapshot","_usernameinputRef$cur6","_usernameinputRef$cur7","exists","toast","theme","hideProgressBar","user_id","uid","user_email","email","preference","displayName","photoURL","language","gender","nickname","joinedDate","working","education","summary","facebook","instagram","twitter","coverImageUrl","catch","err","console","log","setTimeout","t0","stop","apply","arguments","useEffect","isMounted","addUsername","_ref4","_callee","e","_yield$getFirebaseAll","_yield$getFirebaseAll2","_context","preventDefault","target","_x","ErrorMsg","_ref5","errorMsg","ExclamanationTriangle","debounceAddUsername","debounce","_callee2","_yield$getFirebaseAll3","_yield$getFirebaseAll4","onSnapshot","docId","_context2","replace","abrupt","show","formModel","DisplayTitle","title","type","ref","onChange","preferencesCategories","item","index","Button","label","labelColor","func","wait","immediate","timeout","args","context","timestamp","result","later","last","Date","now","debounced","this","callNow","clear","clearTimeout","flush","exports"],"sourceRoot":""}