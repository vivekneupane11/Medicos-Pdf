{"version":3,"file":"static/js/5835.4d51a045.chunk.js","mappings":"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","sources":["components/global/icons/arrow_left.js","components/global/icons/star_fill.js","functions/checkImageValidity.js","pages/Book/components/bookCard/index.js","pages/Book/components/bookSuggestion/index.js","../node_modules/swiper/esm/components/navigation/navigation.js"],"sourcesContent":["import React from 'react'\n\n const ArrowLeft = (props) => {\n  return <svg xmlns=\"http://www.w3.org/2000/svg\" className={props.className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n</svg>\n}\nexport default ArrowLeft\n","import React from 'react'\n\nconst StarFill = (props) => {\n  return <svg xmlns=\"http://www.w3.org/2000/svg\" className={props.className}viewBox=\"0 0 20 20\" fill=\"currentColor\">\n  <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\" />\n</svg>\n}\n\nexport default StarFill","const  checkIfImageExists=(url, callback) =>{\n    const img = new Image();\n\n    img.src = url;\n\n    if (img.complete) {\n      callback(true);\n    } else {\n      img.onload = () => {\n        callback(true);\n      };\n      \n      img.onerror = () => {\n        callback(false);\n      };\n    }\n  }\n  export default checkIfImageExists","import React, { useState } from 'react';\nimport loaderImage from '../../../../assets/images/book/loadertrending.webp';\nimport { Headings } from '../../../../components/global/headings';\nimport \"./index.scss\";\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\n\nimport 'react-lazy-load-image-component/src/effects/blur.css';\nimport checkIfImageExists from '../../../../functions/checkImageValidity';\nimport StarFill from '../../../../components/global/icons/star_fill';\nconst BookCard = ({ book=null,image, title, author, rating, }) => {\n\n    const [state,setState]=useState(false)\n  \n      useState(()=>{\n        checkIfImageExists(image, (exists) => {\n            if (exists) {\n               setState(!state)\n            } else {\n            }\n          });\n\n      },[])\n      \n     \n    return (\n        <>\n            <div className=\"book-card-container\">\n            <LazyLoadImage\n                alt={`${state?`${title}`:'MedicosPdf default book image'}`}\n                effect=\"blur\"\n                src={`${state?`${image}`:`${loaderImage}`}`}\n                className=\"book-card-container-img\"\n                />\n     \n                <div className=\"book-card-container-content\">\n                    <Headings type=\"heading6\" content={title} />\n                    <p className=\"book-card-container-content-para\">{author}</p>\n                    <div className=\"book-card-container-content-rating\">\n                        <StarFill className=\"icon\" />\n                        <div className=\"rating\">\n                            <Headings type=\"heading6\" content={rating} />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default React.memo( BookCard);","// import firebase from \"firebase/compat/app\";\n// import 'firebase/compat/auth';\n// import 'firebase/compat/firestore';\n// import {collection, getDocs, getFirestore,orderBy,query,limit} from 'firebase/firestore';\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport SwiperCore, { A11y, Navigation, Pagination, Scrollbar } from 'swiper';\nimport 'swiper/components/navigation/navigation.scss';\nimport 'swiper/components/pagination/pagination.scss';\nimport 'swiper/components/scrollbar/scrollbar.scss';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport 'swiper/swiper.scss';\nimport shortid from  \"shortid\";\n//local imports\n// import Loading from '../../../../components/loading';\nimport { AuthContext } from '../../../../components/signUp/authMethods/authentication';\nimport { bookCategories } from '../../../../constants/Book/BookCategories';\nimport useLocalStorage from \"../../../../customHooks/useLocalStorage\";\nimport { fetchSlidesAndBooksOrderedByNameWithLimit } from \"../../../../functions/firebaseMethod\";\nimport BookCard from '../bookCard';\nimport BookCardPlaceholder from \"../bookCardPlaceholder\";\nimport './_bookSuggestion.scss';\nimport ArrowLeft from '../../../../components/global/icons/arrow_left';\nimport ArrowRight from '../../../../components/global/icons/arrow_right';\n\n\nconst loadingArray = Array.apply(null, Array(5))\n\nSwiperCore.use([Navigation, Pagination, Scrollbar, A11y]);\n\nconst BookSuggestion = ({ details }) => {\n  const { user } = useContext(AuthContext);\n  const [preference, setPreference] = useLocalStorage('preference', null);\n  // const firestoreDatabase = firebase.firestore();\n  const [userPreferenceFaculty, setUserPreferenceFaculty] = useState(null);\n  const [recommendedBooks, setRecommendedBooks] = useState([]);\n  // const db= getFirestore();\n  const getFirebaseAll=()=>{\n    return Promise.all([\n      import('../../../../firebase/firestore')\n    ])\n    .then(([firestore])=>{\n      return {firestore}\n    })\n  }\n\n\n  const randomSubcategory = useCallback(category => {\n    let filtered = bookCategories.filter(\n      bookCategory => bookCategory.category === category,\n    );\n\n    let subCategories = filtered[0]?.subCategories;\n    // let randomInteger = Math.floor(Math.random() * (subCategories?.length - 1));\n\n    // console.log(category, randomInteger, subCategories[randomInteger]);\n    return subCategories[Math.floor(Math.random() * (subCategories?.length - 1))]\n      .category;\n  }, []\n  )\n\n\n  // useEffect(() => {\n  //   let isMounted = true\n  //   if (isMounted) {\n  //     try {\n  //       let recommendedData = [];\n  //       firestoreDatabase.collection('Web-User-Data')\n  //         .doc(user?.uid)\n  //         .collection('User-Preference')\n  //         .doc(user?.uid)\n  //         .get().then((res) => {\n  //           // console.log(\"No Preference data found\",res)\n  //           if (res.data()) {\n  //             let faculty = res.data()?.preference.fullName;\n  //             let subjects = res.data()?.preference.subjects;\n\n  //             setUserPreferenceFaculty(faculty)\n  //             subjects?.map((category, index) => {\n  //               // console.log(\"CATEGORY\",category.subjectName.replace(/\\s|\\/g, \"\"/g,\"\"))\n  //               // console.log(\"SUBCATEGORY\",randomSubcategory(category.subjectName))\n  //               firestoreDatabase.collection(`K-Books-${(category?.subjectName).replace(/\\s|\\/g, \"\"/g, \"\")}-${(randomSubcategory(category?.subjectName)).replace(/\\s|\\//g, \"\")}`)\n  //                 .get()\n  //                 .then((documentSnapshot) => {\n  //                   if (documentSnapshot) {\n  //                     documentSnapshot.forEach((doc) => {\n  //                       recommendedData.push(doc.data())\n  //                       // console.log(\"Fetched data\",doc.data())\n  //                     })\n  //                     if (index == subjects?.length - 1) {\n  //                       setRecommendedBooks(recommendedData)\n  //                     }\n  //                   }\n  //                 })\n\n  //             })\n  //           }\n  //         })\n\n  //     } catch (err) {\n  //       console.log(\"Error while fetching preference data\", err)\n  //     }\n  //   }\n  //   return () => {\n  //     isMounted = false\n  //   }\n  // }, [user?.uid])\n\n\n\n  useEffect(() => {\n    let isMounted = true;\n    if (isMounted) {\n    async  function fetchRecommendedData() {\n        try {\n          const{firestore:{db,getDocs,query,collection,orderBy,limit}}=await getFirebaseAll()\n          setUserPreferenceFaculty(preference?.fullName)\n          let preferenceCategory = preference?.subjects[preference?.subjects?.length - 1]?.subjectName\n          if (preferenceCategory) {\n            fetchSlidesAndBooksOrderedByNameWithLimit(`K-Books-${preferenceCategory?.replace(/\\s|\\//g, \"\")}-${randomSubcategory(preferenceCategory)?.replace(/\\s|\\//g, \"\")}`, 'title', 10)\n              .then((res) => {\n                if (res?.allData) {\n                  // console.log('PREFERENCES BOOKS DATA', res.allData, preferenceCategory, randomSubcategory(preferenceCategory));\n                  setRecommendedBooks(res.allData)\n                } else {\n                  const colRef=query(collection(db,'K-Books-BasicScience-Histology'),orderBy('title'),limit(10))\n                  // firebase.firestore().collection('K-Books-BasicScience-Histology')\n                  //   .orderBy('title')\n                  //   .limit(10)\n                  //   .get()\n                  getDocs(colRef)\n                    .then((res) => {\n                      let recommendedData = []\n                      res.forEach((doc) => {\n                        recommendedData.push(doc.data())\n                      })\n                      setRecommendedBooks(recommendedData);\n                    })\n                }\n              })\n          } else {\n            const colRef=query(collection(db,\"K-Books-BasicScience-Histology\"),orderBy('title'),limit(10)) \n          getDocs(colRef)\n         .then((snapshot)=>{\n          let recommendedData = []\n          snapshot.forEach((doc) => {\n            recommendedData.push(doc.data())\n          })\n          setRecommendedBooks(recommendedData);\n\n         })\n\n           // getFirestore().collection('K-Books-BasicScience-Histology')\n              \n            \n              \n              \n            \n          }\n        } catch (error) {\n          console.log('Error fetching recommended data', error);\n        }\n      }\n      fetchRecommendedData()\n    }\n    return () => {\n      isMounted = false\n    }\n\n  }, [user?.uid, preference?.length, preference?.fullName, preference?.subjects])\n\n\n  return (\n    <div className=\"bookSuggestion-container\">\n      <h3 className=\"bookSuggestion-container-head\">Book Suggestion of the day</h3>\n      <Swiper\n        loop={true}\n        speed={800}\n        spaceBetween={10}\n        slidesPerView={4}\n        slidesPerGroup={3}\n\n        // autoplay={{\n        //   \"delay\": 6000,\n        //   \"disableOnInteraction\": false\n        // }}\n\n        breakpoints={{\n          \"200\": {\n            \"slidesPerView\": 1,\n            \"slidesPerGroup\": 1,\n          },\n          \"500\": {\n            \"slidesPerView\": 2,\n            \"slidesPerGroup\": 2,\n          },\n          \"768\": {\n            \"slidesPerView\": 3,\n            \"slidesPerGroup\": 3,\n          },\n          \"1026\": {\n            \"slidesPerView\": 4,\n            \"slidesPerGroup\": 4,\n          }\n        }}\n        navigation={{\n          nextEl: '.swiper-button-nextBs',\n          prevEl: '.swiper-button-prevBs',\n        }}\n        className=\"bookSuggestion-container-swiper\"\n      >\n        {\n\n          <div>\n            {recommendedBooks.length>0?recommendedBooks?.map((data, index) => (\n              <SwiperSlide key={data.title + index} className=\"bookSuggestion-container-swiper-slide\">\n                <Link\n                  key={data.image + index}\n                  className='links'\n                  to={{\n                    pathname: `/bookdetails/${data.title}`,\n                    state: {\n                      data: JSON.stringify(data),\n                      wholeData: JSON.stringify(recommendedBooks),\n                    }\n                  }}>\n                  {\n                      <BookCard\n                        image={data.image}\n                        title={data.title}\n                        author={data.writer}\n                        rating={data.rating}\n                      />\n                     \n                      \n\n                  }\n\n                </Link>\n              </SwiperSlide>\n            ))\n            :\n            loadingArray.map(()=> <SwiperSlide key={shortid.generate()} className=\"bookSuggestion-container-swiper-slide\"  ><BookCardPlaceholder /></SwiperSlide> )\n            }\n          </div>\n\n        }\n\n        <div className=\"swiper-button-prevBs\"><ArrowLeft className=\"swiperButtonArrow-bookSuggestion\" /></div>\n        <div className=\"swiper-button-nextBs\"> <ArrowRight className=\"swiperButtonArrow-bookSuggestion\" /></div>\n\n      </Swiper>\n    </div>\n  )\n}\n\nexport default React.memo(BookSuggestion)\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { extend, bindModuleMethods, createElementIfNotDefined } from '../../utils/utils';\nvar Navigation = {\n  toggleEl: function toggleEl($el, disabled) {\n    $el[disabled ? 'addClass' : 'removeClass'](this.params.navigation.disabledClass);\n    if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n  },\n  update: function update() {\n    // Update Navigation Buttons\n    var swiper = this;\n    var params = swiper.params.navigation;\n    var toggleEl = swiper.navigation.toggleEl;\n    if (swiper.params.loop) return;\n    var _swiper$navigation = swiper.navigation,\n        $nextEl = _swiper$navigation.$nextEl,\n        $prevEl = _swiper$navigation.$prevEl;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        toggleEl($prevEl, true);\n      } else {\n        toggleEl($prevEl, false);\n      }\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $prevEl[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        toggleEl($nextEl, true);\n      } else {\n        toggleEl($nextEl, false);\n      }\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $nextEl[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n  },\n  onPrevClick: function onPrevClick(e) {\n    var swiper = this;\n    e.preventDefault();\n    if (swiper.isBeginning && !swiper.params.loop) return;\n    swiper.slidePrev();\n  },\n  onNextClick: function onNextClick(e) {\n    var swiper = this;\n    e.preventDefault();\n    if (swiper.isEnd && !swiper.params.loop) return;\n    swiper.slideNext();\n  },\n  init: function init() {\n    var swiper = this;\n    var params = swiper.params.navigation;\n    swiper.params.navigation = createElementIfNotDefined(swiper.$el, swiper.params.navigation, swiper.params.createElements, {\n      nextEl: 'swiper-button-next',\n      prevEl: 'swiper-button-prev'\n    });\n    if (!(params.nextEl || params.prevEl)) return;\n    var $nextEl;\n    var $prevEl;\n\n    if (params.nextEl) {\n      $nextEl = $(params.nextEl);\n\n      if (swiper.params.uniqueNavElements && typeof params.nextEl === 'string' && $nextEl.length > 1 && swiper.$el.find(params.nextEl).length === 1) {\n        $nextEl = swiper.$el.find(params.nextEl);\n      }\n    }\n\n    if (params.prevEl) {\n      $prevEl = $(params.prevEl);\n\n      if (swiper.params.uniqueNavElements && typeof params.prevEl === 'string' && $prevEl.length > 1 && swiper.$el.find(params.prevEl).length === 1) {\n        $prevEl = swiper.$el.find(params.prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', swiper.navigation.onNextClick);\n    }\n\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', swiper.navigation.onPrevClick);\n    }\n\n    extend(swiper.navigation, {\n      $nextEl: $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl: $prevEl,\n      prevEl: $prevEl && $prevEl[0]\n    });\n\n    if (!swiper.enabled) {\n      if ($nextEl) $nextEl.addClass(params.lockClass);\n      if ($prevEl) $prevEl.addClass(params.lockClass);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    var _swiper$navigation2 = swiper.navigation,\n        $nextEl = _swiper$navigation2.$nextEl,\n        $prevEl = _swiper$navigation2.$prevEl;\n\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click', swiper.navigation.onNextClick);\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click', swiper.navigation.onPrevClick);\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  }\n};\nexport default {\n  name: 'navigation',\n  params: {\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      navigation: _extends({}, Navigation)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      swiper.navigation.init();\n      swiper.navigation.update();\n    },\n    toEdge: function toEdge(swiper) {\n      swiper.navigation.update();\n    },\n    fromEdge: function fromEdge(swiper) {\n      swiper.navigation.update();\n    },\n    destroy: function destroy(swiper) {\n      swiper.navigation.destroy();\n    },\n    'enable disable': function enableDisable(swiper) {\n      var _swiper$navigation3 = swiper.navigation,\n          $nextEl = _swiper$navigation3.$nextEl,\n          $prevEl = _swiper$navigation3.$prevEl;\n\n      if ($nextEl) {\n        $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n      }\n\n      if ($prevEl) {\n        $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n      }\n    },\n    click: function click(swiper, e) {\n      var _swiper$navigation4 = swiper.navigation,\n          $nextEl = _swiper$navigation4.$nextEl,\n          $prevEl = _swiper$navigation4.$prevEl;\n      var targetEl = e.target;\n\n      if (swiper.params.navigation.hideOnClick && !$(targetEl).is($prevEl) && !$(targetEl).is($nextEl)) {\n        if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n        var isHidden;\n\n        if ($nextEl) {\n          isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n        } else if ($prevEl) {\n          isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n        }\n\n        if (isHidden === true) {\n          swiper.emit('navigationShow');\n        } else {\n          swiper.emit('navigationHide');\n        }\n\n        if ($nextEl) {\n          $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n        }\n\n        if ($prevEl) {\n          $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n        }\n      }\n    }\n  }\n};"],"names":["props","_jsx","xmlns","className","fill","viewBox","stroke","children","strokeLinecap","strokeLinejoin","strokeWidth","d","url","callback","img","Image","src","complete","onload","onerror","BookCard","_ref","book","image","title","author","rating","_useState","useState","_useState2","_slicedToArray","state","setState","checkIfImageExists","exists","_Fragment","_jsxs","LazyLoadImage","alt","concat","effect","loaderImage","Headings","type","content","StarFill","React","loadingArray","Array","apply","SwiperCore","Navigation","Pagination","Scrollbar","A11y","BookSuggestion","details","user","useContext","AuthContext","_useLocalStorage","useLocalStorage","_useLocalStorage2","preference","setUserPreferenceFaculty","_useState3","_useState4","recommendedBooks","setRecommendedBooks","randomSubcategory","useCallback","category","_filtered$","subCategories","bookCategories","bookCategory","Math","floor","random","length","useEffect","isMounted","fetchRecommendedData","_ref4","_asyncToGenerator","_regeneratorRuntime","_callee","_preference$subjects","_preference$subjects2","_yield$getFirebaseAll","_yield$getFirebaseAll2","db","getDocs","query","collection","orderBy","limit","preferenceCategory","_randomSubcategory","colRef","_context","prev","next","Promise","all","then","_ref2","firestore","sent","fullName","subjects","subjectName","fetchSlidesAndBooksOrderedByNameWithLimit","replace","res","allData","recommendedData","forEach","doc","push","data","snapshot","t0","console","log","stop","arguments","uid","Swiper","loop","speed","spaceBetween","slidesPerView","slidesPerGroup","breakpoints","navigation","nextEl","prevEl","map","index","SwiperSlide","Link","to","pathname","JSON","stringify","wholeData","writer","BookCardPlaceholder","shortid","ArrowLeft","ArrowRight","_extends","Object","assign","target","i","source","key","prototype","hasOwnProperty","call","this","toggleEl","$el","disabled","params","disabledClass","tagName","update","swiper","_swiper$navigation","$nextEl","$prevEl","isBeginning","watchOverflow","enabled","isLocked","lockClass","isEnd","onPrevClick","e","preventDefault","slidePrev","onNextClick","slideNext","init","createElementIfNotDefined","createElements","$","uniqueNavElements","find","on","extend","addClass","destroy","_swiper$navigation2","off","removeClass","name","hideOnClick","hiddenClass","create","bindModuleMethods","toEdge","fromEdge","_swiper$navigation3","click","_swiper$navigation4","targetEl","is","pagination","clickable","el","contains","isHidden","hasClass","emit","toggleClass"],"sourceRoot":""}