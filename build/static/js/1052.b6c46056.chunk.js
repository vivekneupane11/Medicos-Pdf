"use strict";(self.webpackChunkmedicos_pdf=self.webpackChunkmedicos_pdf||[]).push([[1052],{91052:function(e,n,o){o.r(n),o.d(n,{default:function(){return f}});var r=o(15861),t=o(70885),l=o(64687),a=o.n(l),i=o(72791),s=o(91523),u=o(87087),c=o(16748),d=o(65414),v=o(80184),f=function(e){var n,l=e.data,f=(0,i.useState)(!1),m=(0,t.Z)(f,2),p=m[0],h=m[1],w=(0,i.useContext)(d.V),x=(w.user,w.username),b=(0,i.useState)(),g=(0,t.Z)(b,2),k=g[0],F=g[1],j=(0,i.useState)(!0),U=(0,t.Z)(j,2),N=U[0],D=U[1],Z=(0,i.useState)(!1),y=(0,t.Z)(Z,2),A=(y[0],y[1]),S=((0,i.useRef)(),function(){return Promise.all([o.e(9565).then(o.bind(o,19565))]).then((function(e){return{firestore:(0,t.Z)(e,1)[0]}}))});(0,i.useEffect)((0,r.Z)(a().mark((function e(){var n,o,r,t,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!!0||!l){e.next=17;break}return e.prev=2,e.next=5,S();case 5:n=e.sent,o=n.firestore,r=o.db,t=o.doc,i=o.onSnapshot,s=t(r,"Web-User-Data",null===l||void 0===l?void 0:l.username,"Additional-Details",null===l||void 0===l?void 0:l.username),i(s,(function(e){e.data()&&F(e.data())})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("error fetching data",e.t0);case 17:return e.abrupt("return",(function(){!1}));case 18:case"end":return e.stop()}}),e,null,[[2,14]])}))),[p,l,x]),(0,i.useEffect)((0,r.Z)(a().mark((function e(){var n,o,r,t,i,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,e.prev=1,e.next=4,S();case 4:o=e.sent,r=o.firestore,t=r.db,i=r.doc,s=r.onSnapshot,n&&null!==l&&void 0!==l&&l.username&&x&&(u=i(t,"Web-User-Data",x,"Following",null===l||void 0===l?void 0:l.username),s(u,(function(e){e.data()&&e.data().username===(null===l||void 0===l?void 0:l.username)&&h(!0)}))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("err",e.t0);case 15:return e.abrupt("return",(function(){n=!1}));case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),[p,x,null===l||void 0===l?void 0:l.username]);var W=function(){var e=(0,r.Z)(a().mark((function e(){var n,o,r,t,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.prev=1,e.next=4,S();case 4:n=e.sent,o=n.firestore,r=o.db,t=o.doc,i=o.setDoc,h(!0),i(t(r,"Web-User-Data",x,"Following",null===l||void 0===l?void 0:l.username),{username:null===l||void 0===l?void 0:l.username}),i(t(r,"Web-User-Data",null===l||void 0===l?void 0:l.username,"Followers",x),{username:x}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("Error following",e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,r.Z)(a().mark((function e(){var n,o,r,t,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.prev=1,e.next=4,S();case 4:n=e.sent,o=n.firestore,r=o.db,t=o.doc,i=o.deleteDoc,h(!1),i(t(r,"Web-User-Data",x,"Following",null===l||void 0===l?void 0:l.username)),i(t(r,"Web-User-Data",null===l||void 0===l?void 0:l.username,"Followers",x)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("Error unfollowing",e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){var e=!0;return(null===l||void 0===l?void 0:l.username)===x&&e&&D(!1),function(){e=!1}}),[null===l||void 0===l?void 0:l.username,x]);return(0,v.jsxs)("div",{className:"followersAndFollowing-container",children:[(0,v.jsx)("div",{className:"followersAndFollowing-container-img",children:null!==(null===k||void 0===k?void 0:k.photoURL)||""!==(null===k||void 0===k?void 0:k.photoURL)?(0,v.jsxs)(s.rU,{className:"links",to:{pathname:"".concat(null!==k&&void 0!==k&&k.username?"/profile/".concat(null===k||void 0===k?void 0:k.username):"/profile/medicos.int7")},children:["  ",(0,v.jsx)(u.LazyLoadImage,{effect:"blur",src:null===k||void 0===k?void 0:k.photoURL,alt:null===k||void 0===k?void 0:k.displayName})]}):(0,v.jsx)(s.rU,{className:"avatar-followerFollowing",to:{pathname:"".concat(null!==k&&void 0!==k&&k.username?"/profile/".concat(null===k||void 0===k?void 0:k.username):"/profile/medicos.int7")},children:(0,v.jsx)(c.m,{title:null===k||void 0===k||null===(n=k.email)||void 0===n?void 0:n.substring(0,1),color:"white",type:"display1"})})}),(0,v.jsxs)("div",{className:"followersAndFollowing-container-desc",children:[(0,v.jsx)(s.rU,{className:"links",to:{pathname:"".concat(null!==k&&void 0!==k&&k.username?"/profile/".concat(null===k||void 0===k?void 0:k.username):"/profile/medicos.int7")},children:(0,v.jsx)("h6",{children:null!==k&&void 0!==k&&k.displayName?null===k||void 0===k?void 0:k.displayName:"Medicos"})}),(0,v.jsx)("p",{children:null===k||void 0===k?void 0:k.email})]}),N&&(0,v.jsx)(v.Fragment,{children:p?(0,v.jsx)("button",{onClick:function(){return C()},className:"followersAndFollowing-container-option-container-btn",children:"Following"}):(0,v.jsx)("button",{onClick:function(){return W()},className:"followersAndFollowing-container-option-container-btn",children:"Follow"})})]})}}}]);
//# sourceMappingURL=1052.b6c46056.chunk.js.map