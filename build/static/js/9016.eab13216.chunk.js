"use strict";(self.webpackChunkmedicos_pdf=self.webpackChunkmedicos_pdf||[]).push([[9016],{59016:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var o=t(42982),i=t(15861),l=t(70885),r=t(64687),d=t.n(r),s=t(72791),a=t(79271),u=t(29202),c=t(20386),v=t(54567),f=t(65414),p=t(33229),h=t(80184),m=function(e){e.datas;var n=(0,s.useContext)(f.V),r=(n.user,n.username),m=(0,s.useState)(null),g=(0,l.Z)(m,2),S=g[0],x=g[1],b=(0,s.useState)(!1),Z=(0,l.Z)(b,2),j=Z[0],y=Z[1],k=(0,s.useState)(null),w=(0,l.Z)(k,2),N=w[0],C=w[1],U=(0,a.UO)().userId,E=(0,s.useState)(10),I=(0,l.Z)(E,1)[0],D=(0,s.useState)(),P=(0,l.Z)(D,2),q=P[0],B=P[1],M=(0,s.useState)(!1),z=(0,l.Z)(M,2),A=z[0],L=z[1],O=(0,s.useState)(!1),W=(0,l.Z)(O,2),_=W[0],F=W[1],R=(0,s.useState)(!0),T=(0,l.Z)(R,2),V=(T[0],T[1]),G=function(){return Promise.all([t.e(9565).then(t.bind(t,19565))]).then((function(e){return{firestore:(0,l.Z)(e,1)[0]}}))},H=function(){var e=(0,i.Z)(d().mark((function e(){var n,t,i,l,s,a,u,c,v,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G();case 3:n=e.sent,t=n.firestore,i=t.db,l=t.collection,s=t.orderBy,a=t.limit,u=t.query,c=t.getDocs,v=t.startAfter,F(!0),f=u(l(i,"Web-User-Data",r,"Pinned-Slide"),s("SlideName"),v(null===q||void 0===q?void 0:q.SlideName),a(I)),c(f).then((function(e){var n=[];console.log("pinnedslide",e),e.forEach((function(e){n.push(null===e||void 0===e?void 0:e.data())})),B(n[(null===n||void 0===n?void 0:n.length)-1]),0===(null===n||void 0===n?void 0:n.length)&&L(!1),F(!1),x((function(e){return[].concat((0,o.Z)(e),n)}))})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log("Error fetching more user uploaded slides",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((0,i.Z)(d().mark((function e(){var n,t,o,i,l,s,a,u,c,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,e.prev=1,e.next=4,G();case 4:t=e.sent,o=t.firestore,i=o.db,l=o.collection,s=o.orderBy,a=o.limit,u=o.query,c=o.onSnapshot,n&&r===U&&(console.log("pinnedslide",r),v=u(l(i,"Web-User-Data",r,"Pinned-Slide"),s("SlideName"),a(I)),c(v,(function(e){if(null!==e&&void 0!==e&&e.docs){var n=[];e.forEach((function(e){n.push(null===e||void 0===e?void 0:e.data()),console.log("pinnedslide",null===e||void 0===e?void 0:e.data())})),(null===n||void 0===n?void 0:n.length)>0&&L(!0),V(!1),F(!1),B(n[(null===n||void 0===n?void 0:n.length)-1]),x(n)}}))),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log("err",e.t0);case 18:return e.abrupt("return",(function(){n=!1}));case 19:case"end":return e.stop()}}),e,null,[[1,15]])}))),[r]);var J=function(e,n){!0===e&&n&&(y(!0),C(n))};return(0,h.jsx)(h.Fragment,{children:(null===S||void 0===S?void 0:S.length)>0&&(0,h.jsxs)("div",{className:"pinnedSlides-container",children:[(0,h.jsx)(v.default,{url:encodeURI("https://medicospdf.com/slidedetails/".concat(null===N||void 0===N?void 0:N.SlideName,"/").concat(null===N||void 0===N?void 0:N.slideCategory,"/").concat(null===N||void 0===N?void 0:N.slideSubCategory.replace(/\s|\//g,""))),appId:"822492691593209;",title:null===N||void 0===N?void 0:N.SlideName,image:null===N||void 0===N?void 0:N.slideImages[0],show:j,cancel:function(e){!1===e&&y(!1)}}),(0,h.jsx)("h5",{children:"Pinned Slides"}),(0,h.jsx)("div",{className:"pinnedSlides-container-wrapper",children:null===S||void 0===S?void 0:S.map((function(e,n){return console.log("pinneded",e),(0,h.jsx)("div",{className:"pinnedSlides-container-wrapper-slide",children:(0,h.jsx)(p.default,{title:null===e||void 0===e?void 0:e.slideCategory,title2:null===e||void 0===e?void 0:e.slideSubCategory,description:null===e||void 0===e?void 0:e.SlideName,images:null===e||void 0===e?void 0:e.slideImages,wholeDatas:S,datas:e,showShareModal:J})},n)}))}),A&&S.length>9&&(0,h.jsxs)("div",{className:"pinnedSlides-loading",onClick:H,children:[_&&(0,h.jsx)(c.default,{}),(0,h.jsx)(u.z,{type:"primary-outline-rounded",label:"Load More",labelColor:"black"})]})]})})},g=t(57043),S=t(16432),x=function(e){e.user;var n=(0,s.useState)([]),r=(0,l.Z)(n,2),v=r[0],f=r[1],p=(0,s.useState)(),x=(0,l.Z)(p,2),b=x[0],Z=x[1],j=(0,s.useState)(!1),y=(0,l.Z)(j,2),k=y[0],w=y[1],N=(0,s.useState)(!1),C=(0,l.Z)(N,2),U=C[0],E=C[1],I=(0,s.useState)(!0),D=(0,l.Z)(I,2),P=D[0],q=D[1],B=(0,a.UO)().userId,M=function(){return Promise.all([t.e(9565).then(t.bind(t,19565))]).then((function(e){return{firestore:(0,l.Z)(e,1)[0]}}))},z=function(){var e=(0,i.Z)(d().mark((function e(){var n,t,i,l,r,s,a,u,c,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M();case 3:n=e.sent,t=n.firestore,i=t.db,l=t.query,r=t.orderBy,s=t.startAfter,a=t.limit,u=t.getDocs,c=t.collection,E(!0),v=l(c(i,"UserUploadedSlides",B,"slides"),r("SlideName"),s(null===b||void 0===b?void 0:b.SlideName),a(10)),u(v).then((function(e){var n=[];e.forEach((function(e){n.push(null===e||void 0===e?void 0:e.data())})),Z(n[(null===n||void 0===n?void 0:n.length)-1]),0===(null===n||void 0===n?void 0:n.length)&&w(!1),E(!1),console.log("more slides",n),f((function(e){return[].concat((0,o.Z)(e),n)}))})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log("Error fetching more user uploaded slides",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((0,i.Z)(d().mark((function e(){var n,t,o,i,l,r,s,a,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,e.prev=1,e.next=4,M();case 4:t=e.sent,o=t.firestore,i=o.db,l=o.query,r=o.collection,s=o.orderBy,a=o.limit,u=o.onSnapshot,E(!0),c=l(r(i,"UserUploadedSlides",B,"slides"),s("SlideName"),a(10)),u(c,(function(e){if(e&&n){var t=[];e.forEach((function(e){t.push(e.data())})),(null===t||void 0===t?void 0:t.length)>0&&w(!0),q(!1),E(!1),Z(t[(null===t||void 0===t?void 0:t.length)-1]),f(t)}e.empty&&(q(!1),E(!1))})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log("Error fetching user uploaded slides",e.t0);case 20:return e.abrupt("return",(function(){n=!1}));case 21:case"end":return e.stop()}}),e,null,[[1,17]])}))),[B,10]),(0,h.jsxs)("div",{className:"uploaded-slide-container",children:[(0,h.jsx)(S.Z,{}),(0,h.jsx)(m,{}),(0,h.jsxs)("div",{className:"uploaded-slide-container-uploadContainer",children:[(0,h.jsx)("h3",{children:"Uploaded Slides"}),(0,h.jsx)(g.Z,{showTitle:!1,loading:P,details:v,from:"userUploads"}),k&&(null===v||void 0===v?void 0:v.length)>9&&(0,h.jsxs)("div",{className:"load-more-container",onClick:z,children:[U&&(0,h.jsx)(c.default,{}),(0,h.jsx)(u.z,{type:"primary-outline-rounded",label:"Load More",labelColor:"black"})]})]})]})},b=s.memo(x)}}]);
//# sourceMappingURL=9016.eab13216.chunk.js.map